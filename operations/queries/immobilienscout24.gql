fragment currency on Currency {
  formatted
  symbol
  value
  code
}

query immobilienScout24
  @testPage(url: "https://www.immobilienscout24.de/expose/73098898")
  @match(url: "immobilienscout24.de/expose/\\d+") {

  realEstate {
    __typename
    title @css(path: "#expose-title")

    address {
    	latitude @regex(pattern: "lat: ([\\d\\.]+),")
      longitude @regex(pattern: "lng: ([\\d\\.]+)")
    }

    rent {
      basePrice @css(path: ".is24qa-kaltmiete") {
				... currency
      }
      totalPrice @css(path: ".is24qa-gesamtmiete") {
        ... currency
      }
      deposit @css(path: ".is24qa-kaution-o-genossenschaftsanteile") {
        ... currency
      }
    }
	}
}
